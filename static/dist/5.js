(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{106:function(t,e,a){t.exports={default:a(107),__esModule:!0}},107:function(t,e,a){a(47),a(46),t.exports=a(108)},108:function(t,e,a){var i=a(2),n=a(48);t.exports=a(3).getIterator=function(t){var e=n(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},120:function(t,e,a){"use strict";a.r(e);var i=a(121),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},121:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n=a(106),s=(i=n)&&i.__esModule?i:{default:i};e.default={data:function(){var t=this;return{categorys:{},cateId:"all",isShow:"all",tableData:[],loading:!1,name:"",price:"all",page:1,pageSize:10,count:0,visible:!1,imgUrl:"",columns:[{title:"主图",key:"mainImg",render:function(e,a){return e("div",{style:{display:"flex","justify-content":"center","align-items":"center"}},[e("Img",{attrs:{src:a.row.mainImg},style:{"max-height":"40px"},on:{click:function(){t.visible=!0,t.imgUrl=a.row.mainImg}}})],"")}},{title:"名称",key:"name"},{title:"价格",key:"price"},{title:"描述",key:"desc"},{title:"分类",key:"cateName"},{title:"评分",key:"evaluate"},{title:"操作",key:"action",align:"center",render:function(e,a){return e("div",{style:{display:"flex"}},[e("Button",{props:{type:"text",size:"small"},on:{click:function(){t.evaluate(a.index,a.row)}}},"评价"),e("Button",{props:{type:"text",size:"small"},on:{click:function(){t.update(a.index,a.row)}}},"修改"),e("Button",{props:{type:"text",size:"small"},style:{color:"#ff9900"},on:{click:function(){t.remove(a.index,a.row)}}},"删除")])}}]}},mounted:function(){this.getCates(),this.queryGoods()},methods:{getCates:function(){var t=this;this.categorys={all:"不限"},this.$http.post("./category/getCates").then(function(e){var a=!0,i=!1,n=void 0;try{for(var o,r=(0,s.default)(e.result);!(a=(o=r.next()).done);a=!0){var l=o.value;t.$set(t.categorys,l._id,l.name)}}catch(t){i=!0,n=t}finally{try{!a&&r.return&&r.return()}finally{if(i)throw n}}})},queryGoods:function(){var t=this;this.$http.post("./goods/queryGoods",{name:this.name,price:this.price,cateId:this.cateId,isShow:this.isShow,page:this.page,pageSize:this.pageSize}).then(function(e){if(-1===e.code)return t.$Message.error(e.msg);t.count=e.count,t.tableData=e.result})},evaluate:function(t,e){this.$router.push({path:"evaluate",query:{id:e._id,name:e.name}})},update:function(t,e){this.$router.push({path:"addGoods",query:{id:e._id}})},remove:function(t,e){var a=this;this.$http.post("./goods/removeGoods",{_id:e._id}).then(function(t){if(-1===t.code)return a.$Message.error(t.msg);a.$Message.success(t.msg),a.queryGoods()})}}}},122:function(t,e,a){},145:function(t,e,a){"use strict";var i=a(122);a.n(i).a},156:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods-manage"},[a("div",{staticClass:"search-bar row"},[a("div",{staticClass:"col flex"},[a("label",[t._v("商品名称 :")]),t._v(" "),a("Input",{attrs:{placeholder:"名称"},model:{value:t.name,callback:function(e){t.name="string"==typeof e?e.trim():e},expression:"name"}})],1),t._v(" "),a("div",{staticClass:"col flex"},[a("label",[t._v("商品价格 :")]),t._v(" "),a("Select",{staticClass:"f-r",model:{value:t.price,callback:function(e){t.price=e},expression:"price"}},[a("Option",{attrs:{value:"all"}},[t._v("不限")]),t._v(" "),a("Option",{attrs:{value:"0,25"}},[t._v("0 - 25")]),t._v(" "),a("Option",{attrs:{value:"25,50"}},[t._v("25 - 50")]),t._v(" "),a("Option",{attrs:{value:"50,100"}},[t._v("50 - 100")]),t._v(" "),a("Option",{attrs:{value:"100,9999"}},[t._v("100以上")])],1)],1),t._v(" "),a("div",{staticClass:"col flex"},[a("label",[t._v("商品分类 :")]),t._v(" "),a("Select",{staticClass:"f-r",model:{value:t.cateId,callback:function(e){t.cateId=e},expression:"cateId"}},t._l(t.categorys,function(e,i){return a("Option",{key:i,attrs:{value:i}},[t._v(t._s(e))])}),1)],1),t._v(" "),a("div",{staticClass:"col flex"},[a("label",[t._v("是否显示 :")]),t._v(" "),a("Select",{staticClass:"f-r",model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[a("Option",{attrs:{value:"all"}},[t._v("全部")]),t._v(" "),a("Option",{attrs:{value:1}},[t._v("是")]),t._v(" "),a("Option",{attrs:{value:0}},[t._v("否")])],1)],1),t._v(" "),a("div",{staticClass:"col"},[a("Button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:t.queryGoods}},[t._v("搜索")])],1)]),t._v(" "),a("Table",{attrs:{border:"",loading:t.loading,columns:t.columns,data:t.tableData}}),t._v(" "),a("Modal",{attrs:{title:"查看图片"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?a("img",{staticStyle:{width:"100%"},attrs:{src:t.imgUrl}}):t._e()]),t._v(" "),a("Page",{attrs:{total:t.count,current:t.page,size:"small","page-size":t.pageSize},on:{"update:current":function(e){t.page=e}}})],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},97:function(t,e,a){"use strict";a.r(e);var i=a(156),n=a(120);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a(145);var o=a(6),r=Object(o.a)(n.default,i.a,i.b,!1,null,"50138e7c",null);e.default=r.exports}}]);