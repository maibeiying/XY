(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{106:function(t,e,r){t.exports={default:r(107),__esModule:!0}},107:function(t,e,r){r(47),r(46),t.exports=r(108)},108:function(t,e,r){var n=r(2),a=r(48);t.exports=r(3).getIterator=function(t){var e=a(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},123:function(t,e,r){"use strict";r.r(e);var n=r(124),a=r.n(n);for(var s in n)"default"!==s&&function(t){r.d(e,t,function(){return n[t]})}(s);e.default=a.a},124:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=r(106),s=(n=a)&&n.__esModule?n:{default:n};e.default={data:function(){var t=this;return{columns:[{title:"账号",key:"username"},{title:"密码",key:"userpwd"},{title:"角色",key:"uty",render:function(t,e){var r=1*e.row.uty,n=null;return 0===r&&(n="超级管理员"),1===r&&(n="普通管理员"),2===r&&(n="用户"),3===r&&(n="随机用户"),n}},{title:"登录时间",key:"logindate"},{title:"操作",key:"action",width:150,align:"center",render:function(e,r){return e("div",[e("Button",{props:{type:"text",size:"small"},style:{color:"#ff9900"},on:{click:function(){t.remove(r.index,r.row)}}},"删除")])}}],tableData:[],loading:!1,dialog:!1,userNumber:10,uty:"all",page:1,pageSize:10,count:0}},mounted:function(){this.queryUsers()},methods:{remove:function(t,e){var r=this;this.$http.post("./user/removeUser",{_id:e._id}).then(function(t){1===t.code?(r.$Message.success(t.msg),r.queryUsers()):r.$Message.error("删除失败")})},addRanUsers:function(){var t=this;if(!this.userNumber||isNaN(1*this.userNumber))return this.$Message.warning("请输入合法数字");this.$http.post("./user/addRanUsers",{userNumber:this.userNumber,uty:"3"}).then(function(e){if(t.dialog=!1,-1===e.code)return t.$Message.error(e.msg);t.$Message.success(e.msg),t.userNumber=10,t.queryUsers()})},queryUsers:function(){var t=this;this.$http.post("./user/queryUsers",{uty:this.uty,page:this.page,pageSize:this.pageSize}).then(function(e){t.tableData=e.result,t.count=e.count;var r=!0,n=!1,a=void 0;try{for(var u,o=(0,s.default)(t.tableData);!(r=(u=o.next()).done);r=!0){var i=u.value,l=new Date(i.logindate);i.logindate=l.getFullYear()+"-"+t.double(l.getMonth()+1)+"-"+t.double(l.getDate())+"\n           "+t.double(l.getHours())+":"+t.double(l.getMinutes())}}catch(t){n=!0,a=t}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}})},double:function(t){return 1*t<10?"0"+t:t}},watch:{page:function(){this.queryUsers()}}}},125:function(t,e,r){},146:function(t,e,r){"use strict";var n=r(125);r.n(n).a},155:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"search-bar row"},[r("div",{staticClass:"col flex"},[r("label",[t._v("角色 :")]),t._v(" "),r("Select",{staticClass:"selector",model:{value:t.uty,callback:function(e){t.uty=e},expression:"uty"}},[r("Option",{attrs:{value:"all"}},[t._v("不限")]),t._v(" "),r("Option",{attrs:{value:"0"}},[t._v("超级管理员")]),t._v(" "),r("Option",{attrs:{value:"1"}},[t._v("普通管理员")]),t._v(" "),r("Option",{attrs:{value:"2"}},[t._v("用户")]),t._v(" "),r("Option",{attrs:{value:"3"}},[t._v("随机用户")])],1)],1),t._v(" "),r("div",{staticClass:"col"},[r("Button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:t.queryUsers}},[t._v("搜索")]),t._v(" "),r("Button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:function(e){t.dialog=!0}}},[t._v("生成用户")])],1)]),t._v(" "),r("Table",{attrs:{border:"",loading:t.loading,columns:t.columns,data:t.tableData}}),t._v(" "),r("Page",{attrs:{total:t.count,current:t.page,size:"small","page-size":t.pageSize},on:{"update:current":function(e){t.page=e}}}),t._v(" "),r("Modal",{attrs:{title:"生成用户"},on:{"on-ok":t.addRanUsers,"on-cancel":function(e){t.dialog=!1}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("Input",{attrs:{placeholder:"输入用户个数",autofocus:""},on:{"on-enter":t.addRanUsers},model:{value:t.userNumber,callback:function(e){t.userNumber=e},expression:"userNumber"}})],1)],1)},a=[];r.d(e,"a",function(){return n}),r.d(e,"b",function(){return a})},98:function(t,e,r){"use strict";r.r(e);var n=r(155),a=r(123);for(var s in a)"default"!==s&&function(t){r.d(e,t,function(){return a[t]})}(s);r(146);var u=r(6),o=Object(u.a)(a.default,n.a,n.b,!1,null,"8041f0c8",null);e.default=o.exports}}]);