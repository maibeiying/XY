webpackJsonp([2],{101:function(e,t,a){"use strict";function n(e){a(134)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(136),s=a.n(r),o=a(140),i=a.n(o),u=a(15),l=n,c=u(s.a,i.a,!1,l,"data-v-303386e8",null);t.default=c.exports},134:function(e,t,a){var n=a(135);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals),a(40)("8ec8ea4a",n,!0)},135:function(e,t,a){t=e.exports=a(39)(void 0),t.push([e.i,".addUser[data-v-303386e8]{float:right;margin-bottom:20px}.flex[data-v-303386e8]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}",""])},136:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(137),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){var e=this;return{columns:[{title:"账号",key:"username"},{title:"密码",key:"userpwd"},{title:"登录时间",key:"logindate"},{title:"操作",key:"action",width:150,align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.remove(a.index,a.row)}}},"删除")])}}],tableData:[],loading:!1,dialog:!1,username:"",page:1,pageSize:10,count:0}},mounted:function(){this.getUsers()},methods:{remove:function(e,t){var a=this;this.$http.post("./user/removeUser",{_id:t._id}).then(function(e){1===e.code?(a.$Message.success(e.msg),a.getUsers()):a.$Message.error("删除失败")})},addUser:function(){var e=this;if(!this.username)return this.$Message.warning("名称不能为空");this.$http.post("./user/addUser",{username:this.username}).then(function(t){e.dialog=!1,1===t.code?(e.$Message.success(t.msg),e.username="",e.getUsers()):e.$Message.error("添加失败")})},getUsers:function(){var e=this;this.$http.get("./user/getUsers",{params:{uty:1,page:this.page,pageSize:this.pageSize}}).then(function(t){e.tableData=t.result,e.count=t.count;var a=!0,n=!1,s=void 0;try{for(var o,i=(0,r.default)(e.tableData);!(a=(o=i.next()).done);a=!0){var u=o.value,l=new Date(u.logindate);u.logindate=l.getFullYear()+"-"+e.double(l.getMonth()+1)+"-"+e.double(l.getDate())+"\n           "+e.double(l.getHours())+":"+e.double(l.getMinutes())}}catch(e){n=!0,s=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw s}}})},double:function(e){return 1*e<10?"0"+e:e}},watch:{page:function(){this.getUsers()}}}},137:function(e,t,a){e.exports={default:a(138),__esModule:!0}},138:function(e,t,a){a(44),a(43),e.exports=a(139)},139:function(e,t,a){var n=a(2),r=a(45);e.exports=a(3).getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},140:function(e,t){var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"clearfix"},[a("Button",{staticClass:"addUser",attrs:{type:"primary"},on:{click:function(t){e.dialog=!0}}},[e._v("添加管理员")])],1),e._v(" "),a("Table",{attrs:{border:"",loading:e.loading,columns:e.columns,data:e.tableData}}),e._v(" "),a("Page",{attrs:{total:e.count,current:e.page,size:"small","page-size":e.pageSize},on:{"update:current":function(t){e.page=t}}}),e._v(" "),a("Modal",{attrs:{title:"添加用户"},on:{"on-ok":e.addUser,"on-cancel":function(t){e.dialog=!1}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("Input",{attrs:{placeholder:"输入名称",autofocus:""},on:{"on-enter":e.addUser},model:{value:e.username,callback:function(t){e.username="string"==typeof t?t.trim():t},expression:"username"}})],1)],1)},n=[];e.exports={render:a,staticRenderFns:n}}});